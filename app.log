2022-03-21 16:43:50,389 INFO werkzeug  * Running on http://localhost:80/ (Press CTRL+C to quit)
2022-03-21 16:44:04,634 INFO werkzeug  * Running on http://localhost:80/ (Press CTRL+C to quit)
2022-03-21 16:44:19,086 INFO root Request: {'meta': {'locale': 'ru-RU', 'timezone': 'UTC', 'client_id': 'ru.yandex.searchplugin/7.16 (none none; android 4.4.2)', 'interfaces': {'screen': {}, 'payments': {}, 'account_linking': {}}}, 'session': {'message_id': 0, 'session_id': 'f1ef103b-9b32-4900-b330-77cb7c58d917', 'skill_id': '9e8ad0ae-7bfc-4717-9af7-48a330e743f0', 'user': {'user_id': 'BF63440F4C502D148CCDE85DBB656154FED1501261CC79321146D60F2B5F8700'}, 'application': {'application_id': '9F2B5C43A65A1BE97E064936629102417AD0A13BD82C8E2973FB410D23D1A55C'}, 'user_id': '9F2B5C43A65A1BE97E064936629102417AD0A13BD82C8E2973FB410D23D1A55C', 'new': True}, 'request': {'command': '', 'original_utterance': '', 'nlu': {'tokens': [], 'entities': [], 'intents': {}}, 'markup': {'dangerous_context': False}, 'type': 'SimpleUtterance'}, 'version': '1.0'}
2022-03-21 16:44:19,087 INFO root Request: {'session': {'message_id': 0, 'session_id': 'f1ef103b-9b32-4900-b330-77cb7c58d917', 'skill_id': '9e8ad0ae-7bfc-4717-9af7-48a330e743f0', 'user': {'user_id': 'BF63440F4C502D148CCDE85DBB656154FED1501261CC79321146D60F2B5F8700'}, 'application': {'application_id': '9F2B5C43A65A1BE97E064936629102417AD0A13BD82C8E2973FB410D23D1A55C'}, 'user_id': '9F2B5C43A65A1BE97E064936629102417AD0A13BD82C8E2973FB410D23D1A55C', 'new': True}, 'version': '1.0', 'response': {'end_session': False, 'text': 'Привет! Я могу показать город или сказать расстояние между городами!'}}
2022-03-21 16:44:19,087 INFO werkzeug 127.0.0.1 - - [21/Mar/2022 16:44:19] "POST /post HTTP/1.1" 200 -
2022-03-21 16:44:31,090 INFO root Request: {'meta': {'locale': 'ru-RU', 'timezone': 'UTC', 'client_id': 'ru.yandex.searchplugin/7.16 (none none; android 4.4.2)', 'interfaces': {'screen': {}, 'payments': {}, 'account_linking': {}}}, 'session': {'message_id': 1, 'session_id': 'f1ef103b-9b32-4900-b330-77cb7c58d917', 'skill_id': '9e8ad0ae-7bfc-4717-9af7-48a330e743f0', 'user': {'user_id': 'BF63440F4C502D148CCDE85DBB656154FED1501261CC79321146D60F2B5F8700'}, 'application': {'application_id': '9F2B5C43A65A1BE97E064936629102417AD0A13BD82C8E2973FB410D23D1A55C'}, 'user_id': '9F2B5C43A65A1BE97E064936629102417AD0A13BD82C8E2973FB410D23D1A55C', 'new': False}, 'request': {'command': 'мосвка', 'original_utterance': 'Мосвка', 'nlu': {'tokens': ['мосвка'], 'entities': [], 'intents': {}}, 'markup': {'dangerous_context': False}, 'type': 'SimpleUtterance'}, 'version': '1.0'}
2022-03-21 16:44:31,090 INFO root Request: {'session': {'message_id': 1, 'session_id': 'f1ef103b-9b32-4900-b330-77cb7c58d917', 'skill_id': '9e8ad0ae-7bfc-4717-9af7-48a330e743f0', 'user': {'user_id': 'BF63440F4C502D148CCDE85DBB656154FED1501261CC79321146D60F2B5F8700'}, 'application': {'application_id': '9F2B5C43A65A1BE97E064936629102417AD0A13BD82C8E2973FB410D23D1A55C'}, 'user_id': '9F2B5C43A65A1BE97E064936629102417AD0A13BD82C8E2973FB410D23D1A55C', 'new': False}, 'version': '1.0', 'response': {'end_session': False, 'text': 'Ты не написал название не одного города!'}}
2022-03-21 16:44:31,090 INFO werkzeug 127.0.0.1 - - [21/Mar/2022 16:44:31] "POST /post HTTP/1.1" 200 -
2022-03-21 16:44:38,375 INFO root Request: {'meta': {'locale': 'ru-RU', 'timezone': 'UTC', 'client_id': 'ru.yandex.searchplugin/7.16 (none none; android 4.4.2)', 'interfaces': {'screen': {}, 'payments': {}, 'account_linking': {}}}, 'session': {'message_id': 2, 'session_id': 'f1ef103b-9b32-4900-b330-77cb7c58d917', 'skill_id': '9e8ad0ae-7bfc-4717-9af7-48a330e743f0', 'user': {'user_id': 'BF63440F4C502D148CCDE85DBB656154FED1501261CC79321146D60F2B5F8700'}, 'application': {'application_id': '9F2B5C43A65A1BE97E064936629102417AD0A13BD82C8E2973FB410D23D1A55C'}, 'user_id': '9F2B5C43A65A1BE97E064936629102417AD0A13BD82C8E2973FB410D23D1A55C', 'new': False}, 'request': {'command': 'москва', 'original_utterance': 'Москва', 'nlu': {'tokens': ['москва'], 'entities': [{'type': 'YANDEX.GEO', 'tokens': {'start': 0, 'end': 1}, 'value': {'city': 'москва'}}], 'intents': {}}, 'markup': {'dangerous_context': False}, 'type': 'SimpleUtterance'}, 'version': '1.0'}
2022-03-21 16:44:38,696 INFO root Request: {'session': {'message_id': 2, 'session_id': 'f1ef103b-9b32-4900-b330-77cb7c58d917', 'skill_id': '9e8ad0ae-7bfc-4717-9af7-48a330e743f0', 'user': {'user_id': 'BF63440F4C502D148CCDE85DBB656154FED1501261CC79321146D60F2B5F8700'}, 'application': {'application_id': '9F2B5C43A65A1BE97E064936629102417AD0A13BD82C8E2973FB410D23D1A55C'}, 'user_id': '9F2B5C43A65A1BE97E064936629102417AD0A13BD82C8E2973FB410D23D1A55C', 'new': False}, 'version': '1.0', 'response': {'end_session': False, 'text': 'Этот город в стране - Россия'}}
2022-03-21 16:44:38,697 INFO werkzeug 127.0.0.1 - - [21/Mar/2022 16:44:38] "POST /post HTTP/1.1" 200 -
2022-03-21 16:44:55,433 INFO root Request: {'meta': {'locale': 'ru-RU', 'timezone': 'UTC', 'client_id': 'ru.yandex.searchplugin/7.16 (none none; android 4.4.2)', 'interfaces': {'screen': {}, 'payments': {}, 'account_linking': {}}}, 'session': {'message_id': 3, 'session_id': 'f1ef103b-9b32-4900-b330-77cb7c58d917', 'skill_id': '9e8ad0ae-7bfc-4717-9af7-48a330e743f0', 'user': {'user_id': 'BF63440F4C502D148CCDE85DBB656154FED1501261CC79321146D60F2B5F8700'}, 'application': {'application_id': '9F2B5C43A65A1BE97E064936629102417AD0A13BD82C8E2973FB410D23D1A55C'}, 'new': False, 'user_id': '9F2B5C43A65A1BE97E064936629102417AD0A13BD82C8E2973FB410D23D1A55C'}, 'request': {'command': 'москва сант петербург', 'original_utterance': 'Москва Сант Петербург', 'nlu': {'tokens': ['москва', 'сант', 'петербург'], 'entities': [{'type': 'YANDEX.GEO', 'tokens': {'start': 0, 'end': 1}, 'value': {'city': 'москва'}}, {'type': 'YANDEX.FIO', 'tokens': {'start': 1, 'end': 2}, 'value': {'first_name': 'санта'}}, {'type': 'YANDEX.GEO', 'tokens': {'start': 2, 'end': 3}, 'value': {'city': 'санкт-петербург'}}], 'intents': {}}, 'markup': {'dangerous_context': False}, 'type': 'SimpleUtterance'}, 'version': '1.0'}
2022-03-21 16:44:55,913 INFO root Request: {'session': {'message_id': 3, 'session_id': 'f1ef103b-9b32-4900-b330-77cb7c58d917', 'skill_id': '9e8ad0ae-7bfc-4717-9af7-48a330e743f0', 'user': {'user_id': 'BF63440F4C502D148CCDE85DBB656154FED1501261CC79321146D60F2B5F8700'}, 'application': {'application_id': '9F2B5C43A65A1BE97E064936629102417AD0A13BD82C8E2973FB410D23D1A55C'}, 'new': False, 'user_id': '9F2B5C43A65A1BE97E064936629102417AD0A13BD82C8E2973FB410D23D1A55C'}, 'version': '1.0', 'response': {'end_session': False, 'text': 'Расстояние между этими городами: 635 км.'}}
2022-03-21 16:44:55,914 INFO werkzeug 127.0.0.1 - - [21/Mar/2022 16:44:55] "POST /post HTTP/1.1" 200 -
2022-03-21 16:51:02,889 INFO werkzeug 127.0.0.1 - - [21/Mar/2022 16:51:02] "[33mGET / HTTP/1.1[0m" 404 -
2022-03-21 16:51:12,037 INFO werkzeug 127.0.0.1 - - [21/Mar/2022 16:51:12] "[33mGET / HTTP/1.1[0m" 404 -
2022-03-21 16:51:22,015 INFO werkzeug 127.0.0.1 - - [21/Mar/2022 16:51:22] "[33mGET / HTTP/1.1[0m" 404 -
2022-03-21 16:51:31,302 INFO werkzeug 127.0.0.1 - - [21/Mar/2022 16:51:31] "[33mGET / HTTP/1.1[0m" 404 -
2022-03-21 17:12:24,137 INFO werkzeug  * Running on http://localhost:80/ (Press CTRL+C to quit)
2022-03-21 17:12:31,448 INFO root Request: {'meta': {'locale': 'ru-RU', 'timezone': 'UTC', 'client_id': 'ru.yandex.searchplugin/7.16 (none none; android 4.4.2)', 'interfaces': {'screen': {}, 'payments': {}, 'account_linking': {}}}, 'session': {'message_id': 0, 'session_id': '65e5cb56-8e0f-4601-a4d5-e48cf5df9ef6', 'skill_id': '9e8ad0ae-7bfc-4717-9af7-48a330e743f0', 'user': {'user_id': 'BF63440F4C502D148CCDE85DBB656154FED1501261CC79321146D60F2B5F8700'}, 'application': {'application_id': '9F2B5C43A65A1BE97E064936629102417AD0A13BD82C8E2973FB410D23D1A55C'}, 'user_id': '9F2B5C43A65A1BE97E064936629102417AD0A13BD82C8E2973FB410D23D1A55C', 'new': True}, 'request': {'command': '', 'original_utterance': '', 'nlu': {'tokens': [], 'entities': [], 'intents': {}}, 'markup': {'dangerous_context': False}, 'type': 'SimpleUtterance'}, 'version': '1.0'}
2022-03-21 17:12:31,449 INFO root Request: {'session': {'message_id': 0, 'session_id': '65e5cb56-8e0f-4601-a4d5-e48cf5df9ef6', 'skill_id': '9e8ad0ae-7bfc-4717-9af7-48a330e743f0', 'user': {'user_id': 'BF63440F4C502D148CCDE85DBB656154FED1501261CC79321146D60F2B5F8700'}, 'application': {'application_id': '9F2B5C43A65A1BE97E064936629102417AD0A13BD82C8E2973FB410D23D1A55C'}, 'user_id': '9F2B5C43A65A1BE97E064936629102417AD0A13BD82C8E2973FB410D23D1A55C', 'new': True}, 'version': '1.0', 'response': {'end_session': False, 'text': 'Привет! Я могу показать город или сказать расстояние между городами!'}}
2022-03-21 17:12:31,449 INFO werkzeug 127.0.0.1 - - [21/Mar/2022 17:12:31] "POST /post HTTP/1.1" 200 -
2022-03-21 17:12:37,935 INFO root Request: {'meta': {'locale': 'ru-RU', 'timezone': 'UTC', 'client_id': 'ru.yandex.searchplugin/7.16 (none none; android 4.4.2)', 'interfaces': {'screen': {}, 'payments': {}, 'account_linking': {}}}, 'session': {'message_id': 1, 'session_id': '65e5cb56-8e0f-4601-a4d5-e48cf5df9ef6', 'skill_id': '9e8ad0ae-7bfc-4717-9af7-48a330e743f0', 'user': {'user_id': 'BF63440F4C502D148CCDE85DBB656154FED1501261CC79321146D60F2B5F8700'}, 'application': {'application_id': '9F2B5C43A65A1BE97E064936629102417AD0A13BD82C8E2973FB410D23D1A55C'}, 'user_id': '9F2B5C43A65A1BE97E064936629102417AD0A13BD82C8E2973FB410D23D1A55C', 'new': False}, 'request': {'command': 'vjcrdf', 'original_utterance': 'Vjcrdf', 'nlu': {'tokens': ['vjcrdf'], 'entities': [], 'intents': {}}, 'markup': {'dangerous_context': False}, 'type': 'SimpleUtterance'}, 'version': '1.0'}
2022-03-21 17:12:37,935 INFO root Request: {'session': {'message_id': 1, 'session_id': '65e5cb56-8e0f-4601-a4d5-e48cf5df9ef6', 'skill_id': '9e8ad0ae-7bfc-4717-9af7-48a330e743f0', 'user': {'user_id': 'BF63440F4C502D148CCDE85DBB656154FED1501261CC79321146D60F2B5F8700'}, 'application': {'application_id': '9F2B5C43A65A1BE97E064936629102417AD0A13BD82C8E2973FB410D23D1A55C'}, 'user_id': '9F2B5C43A65A1BE97E064936629102417AD0A13BD82C8E2973FB410D23D1A55C', 'new': False}, 'version': '1.0', 'response': {'end_session': False, 'text': 'Ты не написал название не одного города!'}}
2022-03-21 17:12:37,935 INFO werkzeug 127.0.0.1 - - [21/Mar/2022 17:12:37] "POST /post HTTP/1.1" 200 -
2022-03-21 17:12:43,491 INFO root Request: {'meta': {'locale': 'ru-RU', 'timezone': 'UTC', 'client_id': 'ru.yandex.searchplugin/7.16 (none none; android 4.4.2)', 'interfaces': {'screen': {}, 'payments': {}, 'account_linking': {}}}, 'session': {'message_id': 2, 'session_id': '65e5cb56-8e0f-4601-a4d5-e48cf5df9ef6', 'skill_id': '9e8ad0ae-7bfc-4717-9af7-48a330e743f0', 'user': {'user_id': 'BF63440F4C502D148CCDE85DBB656154FED1501261CC79321146D60F2B5F8700'}, 'application': {'application_id': '9F2B5C43A65A1BE97E064936629102417AD0A13BD82C8E2973FB410D23D1A55C'}, 'new': False, 'user_id': '9F2B5C43A65A1BE97E064936629102417AD0A13BD82C8E2973FB410D23D1A55C'}, 'request': {'command': 'москва', 'original_utterance': 'Москва', 'nlu': {'tokens': ['москва'], 'entities': [{'type': 'YANDEX.GEO', 'tokens': {'start': 0, 'end': 1}, 'value': {'city': 'москва'}}], 'intents': {}}, 'markup': {'dangerous_context': False}, 'type': 'SimpleUtterance'}, 'version': '1.0'}
2022-03-21 17:12:43,491 ERROR main Exception on /post [POST]
Traceback (most recent call last):
  File "D:\PycharmProjects\Yandex Alice\venv\lib\site-packages\flask\app.py", line 2073, in wsgi_app
    response = self.full_dispatch_request()
  File "D:\PycharmProjects\Yandex Alice\venv\lib\site-packages\flask\app.py", line 1518, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "D:\PycharmProjects\Yandex Alice\venv\lib\site-packages\flask\app.py", line 1516, in full_dispatch_request
    rv = self.dispatch_request()
  File "D:\PycharmProjects\Yandex Alice\venv\lib\site-packages\flask\app.py", line 1502, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**req.view_args)
  File "D:\PycharmProjects\Yandex Alice\main.py", line 26, in main
    handle_dialog(response, request.json)
  File "D:\PycharmProjects\Yandex Alice\main.py", line 42, in handle_dialog
    res['response']['text'] = 'Этот город в стране - ' + \
TypeError: can only concatenate str (not "NoneType") to str
2022-03-21 17:12:43,503 INFO werkzeug 127.0.0.1 - - [21/Mar/2022 17:12:43] "[35m[1mPOST /post HTTP/1.1[0m" 500 -
2022-03-21 17:13:23,545 INFO werkzeug  * Running on http://localhost:80/ (Press CTRL+C to quit)
2022-03-21 17:13:28,483 INFO root Request: {'meta': {'locale': 'ru-RU', 'timezone': 'UTC', 'client_id': 'ru.yandex.searchplugin/7.16 (none none; android 4.4.2)', 'interfaces': {'screen': {}, 'payments': {}, 'account_linking': {}}}, 'session': {'message_id': 2, 'session_id': '65e5cb56-8e0f-4601-a4d5-e48cf5df9ef6', 'skill_id': '9e8ad0ae-7bfc-4717-9af7-48a330e743f0', 'user': {'user_id': 'BF63440F4C502D148CCDE85DBB656154FED1501261CC79321146D60F2B5F8700'}, 'application': {'application_id': '9F2B5C43A65A1BE97E064936629102417AD0A13BD82C8E2973FB410D23D1A55C'}, 'user_id': '9F2B5C43A65A1BE97E064936629102417AD0A13BD82C8E2973FB410D23D1A55C', 'new': False}, 'request': {'command': 'москва', 'original_utterance': 'Москва', 'nlu': {'tokens': ['москва'], 'entities': [{'type': 'YANDEX.GEO', 'tokens': {'start': 0, 'end': 1}, 'value': {'city': 'москва'}}], 'intents': {}}, 'markup': {'dangerous_context': False}, 'type': 'SimpleUtterance'}, 'version': '1.0'}
2022-03-21 17:13:28,778 INFO root Request: {'session': {'message_id': 2, 'session_id': '65e5cb56-8e0f-4601-a4d5-e48cf5df9ef6', 'skill_id': '9e8ad0ae-7bfc-4717-9af7-48a330e743f0', 'user': {'user_id': 'BF63440F4C502D148CCDE85DBB656154FED1501261CC79321146D60F2B5F8700'}, 'application': {'application_id': '9F2B5C43A65A1BE97E064936629102417AD0A13BD82C8E2973FB410D23D1A55C'}, 'user_id': '9F2B5C43A65A1BE97E064936629102417AD0A13BD82C8E2973FB410D23D1A55C', 'new': False}, 'version': '1.0', 'response': {'end_session': False, 'text': 'Этот город в стране - Россия'}}
2022-03-21 17:13:28,779 INFO werkzeug 127.0.0.1 - - [21/Mar/2022 17:13:28] "POST /post HTTP/1.1" 200 -
2022-03-21 17:13:44,850 INFO root Request: {'meta': {'locale': 'ru-RU', 'timezone': 'UTC', 'client_id': 'ru.yandex.searchplugin/7.16 (none none; android 4.4.2)', 'interfaces': {'screen': {}, 'payments': {}, 'account_linking': {}}}, 'session': {'message_id': 3, 'session_id': '65e5cb56-8e0f-4601-a4d5-e48cf5df9ef6', 'skill_id': '9e8ad0ae-7bfc-4717-9af7-48a330e743f0', 'user': {'user_id': 'BF63440F4C502D148CCDE85DBB656154FED1501261CC79321146D60F2B5F8700'}, 'application': {'application_id': '9F2B5C43A65A1BE97E064936629102417AD0A13BD82C8E2973FB410D23D1A55C'}, 'user_id': '9F2B5C43A65A1BE97E064936629102417AD0A13BD82C8E2973FB410D23D1A55C', 'new': False}, 'request': {'command': 'москва санкт петербург', 'original_utterance': 'Москва Санкт Петербург', 'nlu': {'tokens': ['москва', 'санкт', 'петербург'], 'entities': [{'type': 'YANDEX.GEO', 'tokens': {'start': 0, 'end': 1}, 'value': {'city': 'москва'}}, {'type': 'YANDEX.GEO', 'tokens': {'start': 1, 'end': 3}, 'value': {'city': 'санкт-петербург'}}], 'intents': {}}, 'markup': {'dangerous_context': False}, 'type': 'SimpleUtterance'}, 'version': '1.0'}
2022-03-21 17:13:46,023 INFO root Request: {'session': {'message_id': 3, 'session_id': '65e5cb56-8e0f-4601-a4d5-e48cf5df9ef6', 'skill_id': '9e8ad0ae-7bfc-4717-9af7-48a330e743f0', 'user': {'user_id': 'BF63440F4C502D148CCDE85DBB656154FED1501261CC79321146D60F2B5F8700'}, 'application': {'application_id': '9F2B5C43A65A1BE97E064936629102417AD0A13BD82C8E2973FB410D23D1A55C'}, 'user_id': '9F2B5C43A65A1BE97E064936629102417AD0A13BD82C8E2973FB410D23D1A55C', 'new': False}, 'version': '1.0', 'response': {'end_session': False, 'text': 'Расстояние между этими городами: 635 км.'}}
2022-03-21 17:13:46,023 INFO werkzeug 127.0.0.1 - - [21/Mar/2022 17:13:46] "POST /post HTTP/1.1" 200 -
